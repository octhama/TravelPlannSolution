<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TravelPlannMauiApp.Pages.LoginPage"
             Title="Connexion"
             NavigationPage.HasNavigationBar="False"
             BackgroundColor="{AppThemeBinding Light=#F5F5F5, Dark=#121212}">

    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="30" VerticalOptions="Center">
            
            <!-- Logo et titre -->
            <VerticalStackLayout Spacing="10" HorizontalOptions="Center" Margin="0,50,0,30">
                <Label Text="✈️" FontSize="60" HorizontalOptions="Center"/>
                <Label Text="TravelPlann" 
                       FontSize="32" 
                       FontAttributes="Bold"
                       TextColor="{AppThemeBinding Light=#6200EE, Dark=#BB86FC}"
                       HorizontalOptions="Center"/>
                <Label Text="Planifiez vos voyages de rêve" 
                       FontSize="16"
                       TextColor="{AppThemeBinding Light=#666666, Dark=#AAAAAA}"
                       HorizontalOptions="Center"/>
            </VerticalStackLayout>

            <!-- Formulaire de connexion -->
            <Frame BackgroundColor="{AppThemeBinding Light=White, Dark=#1E1E1E}"
                   CornerRadius="15"
                   HasShadow="True"
                   Padding="25">
                <VerticalStackLayout Spacing="20">
                    
                    <!-- Email -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Email" 
                               FontSize="14" 
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"/>
                        <Frame BackgroundColor="{AppThemeBinding Light=#F8F8F8, Dark=#2D2D2D}"
                               CornerRadius="10"
                               HasShadow="False"
                               Padding="0">
                            <Entry x:Name="EmailEntry"
                                   Text="{Binding Email}"
                                   Placeholder="votre@email.com"
                                   Keyboard="Email"
                                   BackgroundColor="Transparent"
                                   TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"
                                   PlaceholderColor="{AppThemeBinding Light=#999999, Dark=#888888}"
                                   FontSize="16"
                                   Margin="15,10"/>
                        </Frame>
                    </VerticalStackLayout>

                    <!-- Mot de passe -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Mot de passe" 
                               FontSize="14" 
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"/>
                        <Frame BackgroundColor="{AppThemeBinding Light=#F8F8F8, Dark=#2D2D2D}"
                               CornerRadius="10"
                               HasShadow="False"
                               Padding="0">
                            <Entry x:Name="PasswordEntry"
                                   Text="{Binding MotDePasse}"
                                   Placeholder="Votre mot de passe"
                                   IsPassword="True"
                                   BackgroundColor="Transparent"
                                   TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"
                                   PlaceholderColor="{AppThemeBinding Light=#999999, Dark=#888888}"
                                   FontSize="16"
                                   Margin="15,10"/>
                        </Frame>
                    </VerticalStackLayout>

                    <!-- Bouton de connexion -->
                    <Button x:Name="LoginButton"
                            Text="Se connecter"
                            Command="{Binding LoginCommand}"
                            BackgroundColor="{AppThemeBinding Light=#6200EE, Dark=#BB86FC}"
                            TextColor="White"
                            CornerRadius="25"
                            HeightRequest="50"
                            FontSize="16"
                            FontAttributes="Bold"
                            IsEnabled="{Binding IsNotBusy}"
                            Margin="0,10,0,0">
                        <Button.Triggers>
                            <DataTrigger TargetType="Button" Binding="{Binding IsBusy}" Value="True">
                                <Setter Property="Text" Value="Connexion en cours..." />
                            </DataTrigger>
                        </Button.Triggers>
                    </Button>

                    <!-- Mot de passe oublié -->
                    <Label Text="Mot de passe oublié ?"
                           HorizontalOptions="Center"
                           TextColor="{AppThemeBinding Light=#6200EE, Dark=#BB86FC}"
                           FontSize="14">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding ForgotPasswordCommand}" />
                        </Label.GestureRecognizers>
                    </Label>

                </VerticalStackLayout>
            </Frame>

            <!-- Séparateur -->
            <StackLayout Orientation="Horizontal" Spacing="10" HorizontalOptions="Center" Margin="0,20,0,10">
                <BoxView BackgroundColor="{AppThemeBinding Light=#CCCCCC, Dark=#555555}" 
                         HeightRequest="1" 
                         WidthRequest="80" 
                         VerticalOptions="Center"/>
                <Label Text="ou" 
                       TextColor="{AppThemeBinding Light=#666666, Dark=#AAAAAA}" 
                       FontSize="14"
                       VerticalOptions="Center"/>
                <BoxView BackgroundColor="{AppThemeBinding Light=#CCCCCC, Dark=#555555}" 
                         HeightRequest="1" 
                         WidthRequest="80" 
                         VerticalOptions="Center"/>
            </StackLayout>

            <!-- Bouton d'inscription -->
            <Button Text="Créer un compte"
                    Command="{Binding RegisterCommand}"
                    BackgroundColor="Transparent"
                    TextColor="{AppThemeBinding Light=#6200EE, Dark=#BB86FC}"
                    BorderColor="{AppThemeBinding Light=#6200EE, Dark=#BB86FC}"
                    BorderWidth="2"
                    CornerRadius="25"
                    HeightRequest="50"
                    FontSize="16"
                    FontAttributes="Bold"/>

            <!-- Version -->
            <Label Text="Version 1.0.0"
                   HorizontalOptions="Center"
                   TextColor="{AppThemeBinding Light=#999999, Dark=#666666}"
                   FontSize="12"
                   Margin="0,30,0,0"/>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>