<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TravelPlannMauiApp.Pages.RegisterPage"
             Title="CrÃ©er un compte"
             BackgroundColor="{AppThemeBinding Light=#F5F5F5, Dark=#121212}">

    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="30" VerticalOptions="Center">
            
            <!-- En-tÃªte -->
            <VerticalStackLayout Spacing="10" HorizontalOptions="Center" Margin="0,30,0,20">
                <Label Text="ðŸŽ¯" FontSize="50" HorizontalOptions="Center"/>
                <Label Text="CrÃ©er un compte" 
                       FontSize="28" 
                       FontAttributes="Bold"
                       TextColor="{AppThemeBinding Light=#6200EE, Dark=#BB86FC}"
                       HorizontalOptions="Center"/>
                <Label Text="Rejoignez la communautÃ© des voyageurs" 
                       FontSize="14"
                       TextColor="{AppThemeBinding Light=#666666, Dark=#AAAAAA}"
                       HorizontalOptions="Center"/>
            </VerticalStackLayout>

            <!-- Formulaire d'inscription -->
            <Frame BackgroundColor="{AppThemeBinding Light=White, Dark=#1E1E1E}"
                   CornerRadius="15"
                   HasShadow="True"
                   Padding="25">
                <VerticalStackLayout Spacing="20">
                    
                    <!-- PrÃ©nom -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="PrÃ©nom" 
                               FontSize="14" 
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"/>
                        <Frame BackgroundColor="{AppThemeBinding Light=#F8F8F8, Dark=#2D2D2D}"
                               CornerRadius="10"
                               HasShadow="False"
                               Padding="0">
                            <Entry Text="{Binding Prenom}"
                                   Placeholder="Votre prÃ©nom"
                                   BackgroundColor="Transparent"
                                   TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"
                                   PlaceholderColor="{AppThemeBinding Light=#999999, Dark=#888888}"
                                   FontSize="16"
                                   Margin="15,10"/>
                        </Frame>
                    </VerticalStackLayout>

                    <!-- Nom -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Nom" 
                               FontSize="14" 
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"/>
                        <Frame BackgroundColor="{AppThemeBinding Light=#F8F8F8, Dark=#2D2D2D}"
                               CornerRadius="10"
                               HasShadow="False"
                               Padding="0">
                            <Entry Text="{Binding Nom}"
                                   Placeholder="Votre nom"
                                   BackgroundColor="Transparent"
                                   TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"
                                   PlaceholderColor="{AppThemeBinding Light=#999999, Dark=#888888}"
                                   FontSize="16"
                                   Margin="15,10"/>
                        </Frame>
                    </VerticalStackLayout>

                    <!-- Email -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Email" 
                               FontSize="14" 
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"/>
                        <Frame BackgroundColor="{AppThemeBinding Light=#F8F8F8, Dark=#2D2D2D}"
                               CornerRadius="10"
                               HasShadow="False"
                               Padding="0">
                            <Entry Text="{Binding Email}"
                                   Placeholder="votre@email.com"
                                   Keyboard="Email"
                                   BackgroundColor="Transparent"
                                   TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"
                                   PlaceholderColor="{AppThemeBinding Light=#999999, Dark=#888888}"
                                   FontSize="16"
                                   Margin="15,10"/>
                        </Frame>
                    </VerticalStackLayout>

                    <!-- Mot de passe -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Mot de passe" 
                               FontSize="14" 
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"/>
                        <Frame BackgroundColor="{AppThemeBinding Light=#F8F8F8, Dark=#2D2D2D}"
                               CornerRadius="10"
                               HasShadow="False"
                               Padding="0">
                            <Entry Text="{Binding MotDePasse}"
                                   Placeholder="Minimum 6 caractÃ¨res"
                                   IsPassword="True"
                                   BackgroundColor="Transparent"
                                   TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"
                                   PlaceholderColor="{AppThemeBinding Light=#999999, Dark=#888888}"
                                   FontSize="16"
                                   Margin="15,10"/>
                        </Frame>
                    </VerticalStackLayout>

                    <!-- Confirmer mot de passe -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Confirmer le mot de passe" 
                               FontSize="14" 
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"/>
                        <Frame BackgroundColor="{AppThemeBinding Light=#F8F8F8, Dark=#2D2D2D}"
                               CornerRadius="10"
                               HasShadow="False"
                               Padding="0">
                            <Entry Text="{Binding ConfirmMotDePasse}"
                                   Placeholder="RÃ©pÃ©tez votre mot de passe"
                                   IsPassword="True"
                                   BackgroundColor="Transparent"
                                   TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}"
                                   PlaceholderColor="{AppThemeBinding Light=#999999, Dark=#888888}"
                                   FontSize="16"
                                   Margin="15,10"/>
                        </Frame>
                    </VerticalStackLayout>

                    <!-- Indicateur de force du mot de passe -->
                    <StackLayout Orientation="Horizontal" Spacing="5" IsVisible="{Binding MotDePasse, Converter={StaticResource StringToBoolConverter}}">
                        <Label Text="Force du mot de passe :" FontSize="12" TextColor="{AppThemeBinding Light=#666666, Dark=#AAAAAA}"/>
                        <Label Text="{Binding PasswordStrength}" FontSize="12" TextColor="{Binding PasswordStrengthColor}"/>
                    </StackLayout>

                    <!-- Bouton d'inscription -->
                    <Button Text="CrÃ©er mon compte"
                            Command="{Binding RegisterCommand}"
                            BackgroundColor="{AppThemeBinding Light=#6200EE, Dark=#BB86FC}"
                            TextColor="White"
                            CornerRadius="25"
                            HeightRequest="50"
                            FontSize="16"
                            FontAttributes="Bold"
                            IsEnabled="{Binding IsNotBusy}"
                            Margin="0,10,0,0">
                        <Button.Triggers>
                            <DataTrigger TargetType="Button" Binding="{Binding IsBusy}" Value="True">
                                <Setter Property="Text" Value="CrÃ©ation en cours..." />
                            </DataTrigger>
                        </Button.Triggers>
                    </Button>

                </VerticalStackLayout>
            </Frame>

            <!-- Retour Ã  la connexion -->
            <StackLayout Orientation="Horizontal" HorizontalOptions="Center" Spacing="5">
                <Label Text="DÃ©jÃ  un compte ?"
                       TextColor="{AppThemeBinding Light=#666666, Dark=#AAAAAA}"
                       FontSize="14"/>
                <Label Text="Se connecter"
                       TextColor="{AppThemeBinding Light=#6200EE, Dark=#BB86FC}"
                       FontSize="14"
                       FontAttributes="Bold">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding BackToLoginCommand}" />
                    </Label.GestureRecognizers>
                </Label>
            </StackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>